#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è MMR Tracker Widget –Ω–∞ GitHub Pages

echo "üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ MMR Tracker Widget..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -f "index.html" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: —Ñ–∞–π–ª index.html –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"
    exit 1
fi

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω)
if [ ! -d ".git" ]; then
    echo "üì¶ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
    git init
    git branch -m main
fi

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã
echo "üìÅ –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã..."
git add .

# –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç
echo "üíæ –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç..."
git commit -m "Initial commit: MMR Tracker Widget"

# –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo ""
echo "üîó –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:"
echo "–ü—Ä–∏–º–µ—Ä: https://github.com/yourusername/mmr-tracker-widget.git"
read -p "URL: " REPO_URL

if [ -z "$REPO_URL" ]; then
    echo "‚ùå URL –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!"
    exit 1
fi

# –î–æ–±–∞–≤–ª—è–µ–º remote origin
echo "üåê –î–æ–±–∞–≤–ª—è–µ–º remote origin..."
git remote add origin "$REPO_URL" 2>/dev/null || git remote set-url origin "$REPO_URL"

# –ü—É—à–∏–º –Ω–∞ GitHub
echo "‚¨ÜÔ∏è  –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞ GitHub..."
git push -u origin main

echo ""
echo "‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo ""
echo "üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub"
echo "2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings > Pages"
echo "3. –í—ã–±–µ—Ä–∏—Ç–µ 'Deploy from a branch'"
echo "4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É 'main' –∏ –ø–∞–ø–∫—É '/ (root)'"
echo "5. –ù–∞–∂–º–∏—Ç–µ 'Save'"
echo ""
echo "üåê –í–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø–æ –∞–¥—Ä–µ—Å—É:"
echo "https://–í–ê–®–ï_–ò–ú–Ø.github.io/–ù–ê–ó–í–ê–ù–ò–ï_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø/"
echo ""
echo "üéÆ URL –≤–∏–¥–∂–µ—Ç–∞ –¥–ª—è OBS:"
echo "https://–í–ê–®–ï_–ò–ú–Ø.github.io/–ù–ê–ó–í–ê–ù–ò–ï_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø/widget.html?player=–í–ê–®_–ù–ò–ö–ù–ï–ô–ú" 